<template>
  <require from="components/terminal"></require>
  <require from="./components/breadcrumb"></require>

  <breadcrumb name="Audit Log" route="audit"></breadcrumb>
  <breadcrumb name="${entry.type} by ${entry.user.name}" route="auditEntry" route-params.bind="{ id: entry.id }"></breadcrumb>

  <div class="row">
    <div class="col s12 m8 push-m2 l6 push-l3">
      <div class="card">
        <div class="card-content">
          <h4>
            <strong>${entry.type}</strong>
            <span if.bind="entry.user">by ${entry.user.name}</span>
          </h4>
          <p>
            <i class="mi">access_time</i> ${entry.timestamp | relativeTime}
            &nbsp;
            <i class="mi">info_outline</i> <a route-href="route: auditEntry; params.bind: { id: entry.id }">${entry.id}</a>
            &nbsp;
            <i class="mi">mail_outline</i> <a href="mailto:${entry.user.email}">${entry.user.email}</a>
          </p>

        </div>
      </div>

      <terminal name="Context" value.bind="entry.context | json" language="json" style="bash"></terminal>
    </div>
  </div>
</template>
