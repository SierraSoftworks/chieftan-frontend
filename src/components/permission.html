<template>
  <div class="icon
      ${permissionLevel|hasFlag:Level.ReadWrite|ternary:'read-write':''}
      ${permissionLevel|hasFlag:Level.ReadOnly|ternary:'read-only':''}
      ${permissionLevel|hasFlag:Level.NoAccess|ternary:'no-access':''}
    " click.delegate="open = !open">
    <i class="mi" if.bind="permissionLevel != NoAccess">lock_open</i>
    <i class="mi" if.bind="permissionLevel == NoAccess">lock_outline</i>
  </div>
  <div class="editor-backdrop" click.delegate="open = false" if.bind="open"></div>
  <div class="editor ${open ? 'visible' : 'hidden'}">
    <ul>
      <li click.delegate="setLevel(Level.ReadWrite)">
        <div class="state">
          <i class="mi" if.bind="permissionLevel|hasFlag:Level.ReadWrite">check_circle</i>
        </div>
        <div class="details">
          <h5>Read/Write</h5>
          <p>Allow the creation of new actions and modification of existing ones.</p>
        </div>
      </li>
      <li click.delegate="setLevel(Level.ReadOnly)">
        <div class="state">
          <i class="mi" if.bind="permissionLevel|hasFlag:Level.ReadOnly">check_circle</i>
        </div>
        <div class="details">
          <h5>Read Only</h5>
          <p>Only allow the creation and execution of tasks for existing actions.</p>
        </div>
      </li>
      <li click.delegate="setLevel(Level.NoAccess)">
        <div class="state">
          <i class="mi" if.bind="permissionLevel|hasFlag:Level.NoAccess">check_circle</i>
          <i class="mi warning" if.bind="permissionLevel|hasFlag:Level.Inherited">warning</i>
        </div>
        <div class="details">
          <h5>No Access</h5>
          <p>Deny access to this project's actions and tasks.</p>
        </div>
      </li>
    </ul>
  </div>
</template>
