<template>
  <require from="./components/breadcrumb"></require>

  <breadcrumb name="Users" route="users"></breadcrumb>
  <breadcrumb name.bind="user.name" route="user" route-params.bind="{ id: user.id }"></breadcrumb>

  <div class="row cards-box">
    <div>
      <div class="card">
        <div class="card-content">
          <h4 class="card-title">
            <img class="circle" src="https://secure.gravatar.com/avatar/${entry.user.email}?s=20&d=mm">
            ${user.name}
          </h4>
          <p>
            <i class="mi">mail_outline</i> <a href="mailto:${user.email}">${user.email}</a>
            &nbsp;
            <i class="mi">info_outline</i> <a route-href="route: user; params.bind: { id: user.id }">${user.id}</a>
          </p>
        </div>
      </div>
    </div>

    <div>
      <div class="card">
        <div class="card-content">
          <h4 class="card-title">Permissions</h4>

          <ul>
            <li repeat.for="permission of user.permissions">
              <i class="material-icons">build</i>
              ${permission}
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div>
      <div class="card">
        <div class="card-content">
          <h4 class="card-title">Access Tokens</h4>

          <ul>
            <li repeat.for="token of tokens">
              <i class="material-icons">vpn_key</i>
              
              <pre><code>${token}</code></pre>

              <a class="red-text" href="#" click.delegate="revokeToken(token)">
                <i class="material-icons">close</i>
              </a>
            </li>
          </ul>
        </div>
        <div class="card-action">
          <a href="#" click.delegate="newToken()">New Token</a>
        </div>
      </div>
    </div>

  </div>
</template>
